{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}/Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/log CovidVisualizedGlobal SRIV.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}15 Jun 2021, 20:39:51
{txt}
{com}. 
. ***************************************************************************
. * This is "do CovidVisualizedGlobal SRIV.do"
. 
. * Project: Combine and visualize international periodically updating 
. * estimates of COVID-19 at the global level (CovidVisualizedGlobal)
. * Person: Farshad Pourmalek pourmalek_farshad@yahoo.com
. * Time (initial): 2021-04-01
. ***************************************************************************
. 
. 
. 
. 
. * Get SRIV estimates 
. 
. copy https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/historical_forecasts/2021-04-01/global_forecasts_deaths.csv global_forecasts_deaths.csv
{txt}
{com}. copy https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/historical_forecasts/2021-04-01/global_forecasts_deaths_lb.csv global_forecasts_deaths_lb.csv
{txt}
{com}. copy https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/historical_forecasts/2021-04-01/global_forecasts_deaths_ub.csv global_forecasts_deaths_ub.csv
{txt}
{com}. copy https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/historical_forecasts/2021-04-01/global_forecasts_cases.csv global_forecasts_cases.csv
{txt}
{com}. copy https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/historical_forecasts/2021-04-01/global_forecasts_cases_lb.csv global_forecasts_cases_lb.csv
{txt}
{com}. copy https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/historical_forecasts/2021-04-01/global_forecasts_cases_ub.csv global_forecasts_cases_ub.csv
{txt}
{com}. 
. 
. 
. 
. local list ///
> global_forecasts_deaths global_forecasts_deaths_lb global_forecasts_deaths_ub ///
> global_forecasts_cases global_forecasts_cases_lb global_forecasts_cases_ub
{txt}
{com}. 
. foreach l of local list {c -(}
{txt}  2{com}. 
. 
.         import delimited using "`l'.csv", clear varnames(nonames) 
{txt}  3{com}. 
.         qui ds
{txt}  4{com}.         foreach v in `r(varlist)' {c -(}
{txt}  5{com}.                         qui rename `v' `=strtoname(`v'[1])'
{txt}  6{com}.         {c )-}
{txt}  7{com}. *
. 
.         drop in 1 
{txt}  8{com}. 
.         drop id Country
{txt}  9{com}.         
.         qui destring *, replace
{txt} 10{com}.         
.         collapse (sum) *
{txt} 11{com}. 
. 
.         qui ds
{txt} 12{com}.         foreach x in `r(varlist)' {c -(}
{txt} 13{com}.                 qui rename `x' v`x'
{txt} 14{com}.         {c )-}
{txt} 15{com}. *
. 
. 
.         foreach v in  * {c -(}
{txt} 16{com}.                 qui rename (`v') S`v'
{txt} 17{com}. 
.         {c )-}
{txt} 18{com}. *
.  
. 
.         foreach v in  * {c -(}
{txt} 19{com}.                 qui rename (`v') `v'j# , addnumber
{txt} 20{com}.         {c )-}
{txt} 21{com}. *
. 
. 
.         gen counter = _n
{txt} 22{com}. 
.         gen i = _n
{txt} 23{com}. 
.         qui reshape long S, i(i) j(j, string)
{txt} 24{com}. 
.         drop i counter
{txt} 25{com}.         rename j datum
{txt} 26{com}.         rename S outcome
{txt} 27{com}. 
.         gen date_original = substr(datum,3,10)
{txt} 28{com}. 
.         drop datum
{txt} 29{com}. 
.         gen year = substr(date_original,1,4) 
{txt} 30{com}.         gen month = substr(date_original,6,2) 
{txt} 31{com}.         gen day = substr(date_original,9,2) 
{txt} 32{com}.         egen date2 = concat(day month year)
{txt} 33{com}.         gen date = date(date2, "DMY", 2050)
{txt} 34{com}.         format date %tdDDMonCCYY
{txt} 35{com}.         codebook date
{txt} 36{com}. 
.         drop year month day date2
{txt} 37{com}. 
.         drop date_original
{txt} 38{com}.         
.         rename outcome `l'
{txt} 39{com}. 
.         save "`l'.dta", replace 
{txt} 40{com}. 
. {c )-}
{res}{text}(104 vars, 185 obs)
(1 observation deleted)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}22370{txt},{res}22471{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}31mar2021{txt},{res}10jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}102{col 51}{txt}missing .:  {res}0{txt}/{res}102

{txt}{col 19}mean:{res}{col 26} 22420.5{txt} = {res}20may2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 29.5888

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22380{col 37}   22395{col 47} 22420.5{col 57}   22446{col 67}   22461
{col 26}10apr2021{col 36}25apr2021{col 46}20may2021{col 56}15jun2021{col 66}30jun2021
{txt}file global_forecasts_deaths.dta saved
{res}{text}(98 vars, 185 obs)
(1 observation deleted)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}22370{txt},{res}22465{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}31mar2021{txt},{res}04jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}96{col 51}{txt}missing .:  {res}0{txt}/{res}96

{txt}{col 19}mean:{res}{col 26} 22417.5{txt} = {res}17may2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 27.8568

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22379{col 37} 22393.5{col 47} 22417.5{col 57} 22441.5{col 67}   22456
{col 26}09apr2021{col 36}23apr2021{col 46}17may2021{col 56}10jun2021{col 66}25jun2021
{txt}file global_forecasts_deaths_lb.dta saved
{res}{text}(98 vars, 185 obs)
(1 observation deleted)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}22370{txt},{res}22465{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}31mar2021{txt},{res}04jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}96{col 51}{txt}missing .:  {res}0{txt}/{res}96

{txt}{col 19}mean:{res}{col 26} 22417.5{txt} = {res}17may2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 27.8568

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22379{col 37} 22393.5{col 47} 22417.5{col 57} 22441.5{col 67}   22456
{col 26}09apr2021{col 36}23apr2021{col 46}17may2021{col 56}10jun2021{col 66}25jun2021
{txt}file global_forecasts_deaths_ub.dta saved
{res}{text}(103 vars, 185 obs)
(1 observation deleted)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}22370{txt},{res}22470{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}31mar2021{txt},{res}09jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}101{col 51}{txt}missing .:  {res}0{txt}/{res}101

{txt}{col 19}mean:{res}{col 26}   22420{txt} = {res}20may2021{txt}
{col 15}std. dev:{res}{col 26} 29.3002

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22380{col 37}   22395{col 47}   22420{col 57}   22445{col 67}   22460
{col 26}10apr2021{col 36}25apr2021{col 46}20may2021{col 56}14jun2021{col 66}29jun2021
{txt}file global_forecasts_cases.dta saved
{res}{text}(98 vars, 185 obs)
(1 observation deleted)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}22370{txt},{res}22465{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}31mar2021{txt},{res}04jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}96{col 51}{txt}missing .:  {res}0{txt}/{res}96

{txt}{col 19}mean:{res}{col 26} 22417.5{txt} = {res}17may2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 27.8568

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22379{col 37} 22393.5{col 47} 22417.5{col 57} 22441.5{col 67}   22456
{col 26}09apr2021{col 36}23apr2021{col 46}17may2021{col 56}10jun2021{col 66}25jun2021
{txt}file global_forecasts_cases_lb.dta saved
{res}{text}(98 vars, 185 obs)
(1 observation deleted)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}22370{txt},{res}22465{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}31mar2021{txt},{res}04jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}96{col 51}{txt}missing .:  {res}0{txt}/{res}96

{txt}{col 19}mean:{res}{col 26} 22417.5{txt} = {res}17may2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 27.8568

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22379{col 37} 22393.5{col 47} 22417.5{col 57} 22441.5{col 67}   22456
{col 26}09apr2021{col 36}23apr2021{col 46}17may2021{col 56}10jun2021{col 66}25jun2021
{txt}file global_forecasts_cases_ub.dta saved

{com}. *
. 
. 
. 
. 
. 
. foreach l of local list {c -(}
{txt}  2{com}.         merge 1:1 date using "`l'.dta"
{txt}  3{com}.         drop _merge
{txt}  4{com}. {c )-}
{res}
{txt}{col 5}Result{col 38}# of obs.
{col 5}{hline 41}
{col 5}not matched{col 30}{res}               6
{txt}{col 9}from master{col 30}{res}               0{txt}  (_merge==1)
{col 9}from using{col 30}{res}               6{txt}  (_merge==2)

{col 5}matched{col 30}{res}              96{txt}  (_merge==3)
{col 5}{hline 41}
{res}
{txt}{col 5}Result{col 38}# of obs.
{col 5}{hline 41}
{col 5}not matched{col 30}{res}               6
{txt}{col 9}from master{col 30}{res}               6{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}matched{col 30}{res}              96{txt}  (_merge==3)
{col 5}{hline 41}
{res}
{txt}{col 5}Result{col 38}# of obs.
{col 5}{hline 41}
{col 5}not matched{col 30}{res}               6
{txt}{col 9}from master{col 30}{res}               6{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}matched{col 30}{res}              96{txt}  (_merge==3)
{col 5}{hline 41}
{res}
{txt}{col 5}Result{col 38}# of obs.
{col 5}{hline 41}
{col 5}not matched{col 30}{res}               1
{txt}{col 9}from master{col 30}{res}               1{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}matched{col 30}{res}             101{txt}  (_merge==3)
{col 5}{hline 41}
{res}
{txt}{col 5}Result{col 38}# of obs.
{col 5}{hline 41}
{col 5}not matched{col 30}{res}               6
{txt}{col 9}from master{col 30}{res}               6{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}matched{col 30}{res}              96{txt}  (_merge==3)
{col 5}{hline 41}
{res}
{txt}{col 5}Result{col 38}# of obs.
{col 5}{hline 41}
{col 5}not matched{col 30}{res}               6
{txt}{col 9}from master{col 30}{res}               6{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}matched{col 30}{res}              96{txt}  (_merge==3)
{col 5}{hline 41}

{com}. *
. 
. rename global_forecasts_deaths_lb TotDeaLoRaA05S00      
{res}{txt}
{com}. rename global_forecasts_deaths_ub TotDeaUpRaA05S00      
{res}{txt}
{com}. rename global_forecasts_deaths    TotDeaMeRaA05S00
{res}{txt}
{com}. rename global_forecasts_cases_lb  TotCasLoRaA05S00
{res}{txt}
{com}. rename global_forecasts_cases_ub  TotCasUpRaA05S00      
{res}{txt}
{com}. rename global_forecasts_cases     TotCasMeRaA05S00
{res}{txt}
{com}. 
. label var TotDeaMeRaA05S00 "Total Deaths Mean SRIV"
{txt}
{com}. label var TotDeaLoRaA05S00 "Total Deaths Lower SRIV"
{txt}
{com}. label var TotDeaUpRaA05S00 "Total Deaths Upper SRIV"
{txt}
{com}. label var TotCasMeRaA05S00 "Total Cases Mean SRIV"
{txt}
{com}. label var TotCasLoRaA05S00 "Total Cases Lower SRIV"
{txt}
{com}. label var TotCasUpRaA05S00 "Total Cases Upper SRIV"
{txt}
{com}. 
. 
. * first date in csv files 2021-04-27    
. 
. rename date date_original
{res}{txt}
{com}. gen date = .
{txt}(102 missing values generated)

{com}. replace date = td(27apr2021) in 1
{txt}(1 real change made)

{com}. replace date = date[_n-1] + 1 in 2/l
{txt}(101 real changes made)

{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}22397{txt},{res}22498{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}27apr2021{txt},{res}06aug2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}102{col 51}{txt}missing .:  {res}0{txt}/{res}102

{txt}{col 19}mean:{res}{col 26} 22447.5{txt} = {res}16jun2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 29.5888

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22407{col 37}   22422{col 47} 22447.5{col 57}   22473{col 67}   22488
{col 26}07may2021{col 36}22may2021{col 46}16jun2021{col 56}12jul2021{col 66}27jul2021
{txt}
{com}. drop date_original
{txt}
{com}. 
. sort date
{txt}
{com}. 
. local list ///
> DeaMeRaA05S00 DeaLoRaA05S00 DeaUpRaA05S00 ///
> CasMeRaA05S00 CasLoRaA05S00 CasUpRaA05S00 
{txt}
{com}. 
. foreach l of local list {c -(}
{txt}  2{com}.         gen Day`l' =  Tot`l'[_n] - Tot`l'[_n-1]
{txt}  3{com}. {c )-}
{txt}(1 missing value generated)
(7 missing values generated)
(7 missing values generated)
(2 missing values generated)
(7 missing values generated)
(7 missing values generated)

{com}. *
. 
. 
. label var DayDeaMeRaA05S00 "Daily Deaths Mean SRIV"
{txt}
{com}. label var DayDeaLoRaA05S00 "Daily Deaths Lower SRIV"
{txt}
{com}. label var DayDeaUpRaA05S00 "Daily Deaths Upper SRIV"
{txt}
{com}. label var DayCasMeRaA05S00 "Daily Cases Mean SRIV"
{txt}
{com}. label var DayCasLoRaA05S00 "Daily Cases Lower SRIV"
{txt}
{com}. label var DayCasUpRaA05S00 "Daily Cases Upper SRIV"
{txt}
{com}. 
. gen loc_grand_name = "global"
{txt}
{com}. 
. order date loc_grand_name
{txt}
{com}. 
. * gen cfr 
. 
. gen DayCfrMeRaA05S00 = 100 * DayDeaMeRaA05S00 / DayCasMeRaA05S00
{txt}(2 missing values generated)

{com}. gen DayCfrLoRaA05S00 = 100 * DayDeaLoRaA05S00 / DayCasLoRaA05S00
{txt}(7 missing values generated)

{com}. gen DayCfrUpRaA05S00 = 100 * DayDeaUpRaA05S00 / DayCasUpRaA05S00
{txt}(7 missing values generated)

{com}. 
. label var DayCfrMeRaA05S00 "Daily CFR Mean SRIV"
{txt}
{com}. label var DayCfrLoRaA05S00 "Daily CFR Lower SRIV"
{txt}
{com}. label var DayCfrUpRaA05S00 "Daily CFR Upper SRIV"
{txt}
{com}. 
. 
. 
. 
. 
. * gen "Daily cases mean div by daily deaths mean SRIV  DayCbD" for visulization of temporal relation of deaths and cases peaks 
. 
. 
. summ DayDeaMeRaA05S00 

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
DayDeaMeR~00 {c |}{res}        101    17976.15    5499.564      10184      29598
{txt}
{com}. gen DayDeMMeRaA05S00   = r(mean)
{txt}
{com}. label var DayDeMMeRaA05S00   "Daily deaths mean SRIV  DayDeM"
{txt}
{com}. 
. summ DayCasMeRaA05S00   

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
DayCasMeR~00 {c |}{res}        100     1174048    426977.1     583698    2000043
{txt}
{com}. gen DayCaMMeRaA05S00   = r(mean)
{txt}
{com}. label var DayCaMMeRaA05S00   "Daily cases mean SRIV  DayCaM"
{txt}
{com}.                            
. gen DayCbDMeRaA05S00   = DayCaMMeRaA05S00   / DayDeMMeRaA05S00  
{txt}
{com}. label var DayCbDMeRaA05S00   "Daily cases mean div by daily deaths mean SRIV  DayCbD"
{txt}
{com}. summ DayCbDMeRaA05S00  

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
DayCbDMeR~00 {c |}{res}        102    65.31143           0   65.31143   65.31143
{txt}
{com}.                                               
. gen DayDMuMeRaA05S00   = DayDeaMeRaA05S00   * DayCbDMeRaA05S00  
{txt}(1 missing value generated)

{com}. label var DayDMuMeRaA05S00   "Daily deaths scaled (times means of cases by deaths) SRIV "
{txt}
{com}. summ DayDMuMeRaA05S00  

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
DayDMuMeR~00 {c |}{res}        101     1174048    359184.4   665131.6    1933088
{txt}
{com}.         
. 
. 
. 
. 
. ****************************
. 
. * graphs 
. 
. grstyle init
{res}{txt}
{com}. 
. grstyle color background white
{txt}
{com}. 
. 
. 
. * daily deaths 
. 
. twoway ///
> (line DayDeaMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths) title("COVID-19 daily deaths, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) 
{res}{txt}
{com}. 
. graph save "graph 1 COVID-19 daily deaths, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 1 COVID-19 daily deaths, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 1 COVID-19 daily deaths, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 1 COVID-19 daily deaths, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * daily deaths CI
. 
. twoway ///
> (rarea DayDeaLoRaA05S00 DayDeaUpRaA05S00 date, sort color(black*.2)) ///
> (line DayDeaMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths) title("COVID-19 daily deaths, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(off) ///
> subtitle("with confidence limits", size(small))
{res}{txt}
{com}. 
. graph save "graph 2 COVID-19 daily deaths, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 2 COVID-19 daily deaths, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 2 COVID-19 daily deaths, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 2 COVID-19 daily deaths, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * daily cases 
. 
. twoway ///
> (line DayCasMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily cases) title("COVID-19 daily cases, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) 
{res}{txt}
{com}. 
. graph save "graph 3 COVID-19 daily cases, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 3 COVID-19 daily cases, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 3 COVID-19 daily cases, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 3 COVID-19 daily cases, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * daily cases CI
. 
. twoway ///
> (rarea DayCasLoRaA05S00 DayCasUpRaA05S00 date, sort color(black*.2)) ///
> (line DayCasMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily cases) title("COVID-19 daily cases, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(off) ///
> subtitle("with confidence limits", size(small))
{res}{txt}
{com}. 
. graph save "graph 4 COVID-19 daily cases, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 4 COVID-19 daily cases, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 4 COVID-19 daily cases, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 4 COVID-19 daily cases, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * total deaths 
. 
. twoway ///
> (line TotDeaMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Total deaths) title("COVID-19 total deaths, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) 
{res}{txt}
{com}. 
. graph save "graph 5 COVID-19 total deaths, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 5 COVID-19 total deaths, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 5 COVID-19 total deaths, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 5 COVID-19 total deaths, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * total deaths CI
. 
. twoway ///
> (rarea TotDeaLoRaA05S00 TotDeaUpRaA05S00 date, sort color(black*.2)) ///
> (line TotDeaMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Total deaths) title("COVID-19 total deaths, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(off) ///
> subtitle("with confidence limits", size(small))
{res}{txt}
{com}. 
. graph save "graph 6 COVID-19 total deaths, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 6 COVID-19 total deaths, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 6 COVID-19 total deaths, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 6 COVID-19 total deaths, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * total cases 
. 
. twoway ///
> (line TotCasMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Total cases) title("COVID-19 total cases, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) 
{res}{txt}
{com}. 
. graph save "graph 7 COVID-19 total cases, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 7 COVID-19 total cases, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 7 COVID-19 total cases, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 7 COVID-19 total cases, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * total cases CI
. 
. twoway ///
> (rarea TotCasLoRaA05S00 TotCasUpRaA05S00 date, sort color(black*.2)) ///
> (line TotCasMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Total cases) title("COVID-19 total cases, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(off) ///
> subtitle("with confidence limits", size(small))
{res}{txt}
{com}. 
. graph save "graph 8 COVID-19 total cases, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 8 COVID-19 total cases, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 8 COVID-19 total cases, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 8 COVID-19 total cases, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * daily CFR 
. 
. twoway ///
> (line DayCfrMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.2fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily CFR) title("COVID-19 daily CFR, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) 
{res}{txt}
{com}. 
. graph save "graph 9 COVID-19 daily CFR, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 9 COVID-19 daily CFR, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 9 COVID-19 daily CFR, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 9 COVID-19 daily CFR, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * daily CFR CI
. 
. twoway ///
> (rarea DayCfrLoRaA05S00 DayCfrUpRaA05S00 date, sort color(black*.2)) ///
> (line DayCfrMeRaA05S00 date, sort lcolor(black)) ///
> , xtitle(Date) xlabel(#5, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.2fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily CFR) title("COVID-19 daily CFR, global, SRIV, default scenario", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(off) ///
> subtitle("with confidence limits", size(small))
{res}{txt}
{com}. 
. graph save "graph 10 COVID-19 daily CFR, default scenario, global, SRIV.gph", replace
{res}{txt}(file graph 10 COVID-19 daily CFR, default scenario, global, SRIV.gph saved)

{com}. graph export "graph 10 COVID-19 daily CFR, default scenario, global, SRIV.pdf", replace
{txt}(file /Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/graph 10 COVID-19 daily CFR, default scenario, global, SRIV.pdf written in PDF format)

{com}. 
. 
. 
. 
. * DayCas DayDeaDay Dea_multip
. 
. twoway ///
> (line DayCasMeRaA05S00 date, sort lcolor(blue)) ///
> (line DayDeaMeRaA05S00 date, sort lcolor(red)) ///
> (line DayDMuMeRaA05S00 date, sort lpattern(dot) lcolor(red)) ///
> if date > td(01jan2020) ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%12.0fc) labsize(small)) ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily cases and deaths) title("COVID-19 daily cases and deaths, global, SRIV ", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(4)) legend(region(lcolor(none)))  ///
> legend(order(1 "Daily cases" 2 "Daily deaths" 3 "Daily deaths scaled for visualization") size(small)) ///
> subtitle("Daily deaths, scaled = times (means of cases divided by deaths) for visualization only", size(small)) ///
> note("Current scenario, mean estimate")
{res}{txt}
{com}. 
. qui graph save "graph 10 COVID-19 daily deaths and cases global, SRIV .gph", replace
{txt}
{com}. qui graph export "graph 10 COVID-19 daily deaths and cases global, SRIV .pdf", replace
{txt}
{com}. 
. 
. 
. 
. 
. ****************
. 
. sort date loc_grand_name
{txt}
{com}. 
. order date loc_grand_name
{txt}
{com}. 
. qui compress
{txt}
{com}. 
. 
. save "CovidVisualizedGlobal SRIV.dta", replace
{txt}file CovidVisualizedGlobal SRIV.dta saved

{com}.  
. 
. 
. 
. view "log CovidVisualizedGlobal SRIV.smcl"
{txt}
{com}. 
. log close
      {txt}name:  {res}<unnamed>
       {txt}log:  {res}/Users/farshadpourmalek/Downloads/CovidVisualizedGlobal-main/20210401/code/SRIV/log CovidVisualizedGlobal SRIV.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res}15 Jun 2021, 20:40:05
{txt}{.-}
{smcl}
{txt}{sf}{ul off}